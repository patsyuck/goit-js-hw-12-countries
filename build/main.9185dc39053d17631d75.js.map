{"version":3,"sources":["webpack:///./main.js","webpack:///./fetchCountries.js","webpack:///../templates/list.hbs"],"names":["defaultModules","set","PNotifyMobile","inputCountry","document","querySelector","resultArea","addEventListener","debounce","searchQuery","value","fetch","then","response","ok","json","Error","data","len","length","alert","text","innerHTML","countries","items","map","item","name","listMenu","lang","languages","capital","population","flag","catch","err","Handlebars","module","exports","template","container","depth0","helpers","partials","escapeExpression","lambda","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop"],"mappings":"yQAKAA,iBAAeC,IAAIC,EAAe,IAClC,IAAMC,EAAeC,SAASC,cAAc,iBACtCC,EAAaF,SAASC,cAAc,WAoD1CF,EAAaI,iBAAiB,QAASC,KAlDvC,WCTe,IAAwBC,KDUpBN,EAAaO,MCTrBC,MAAM,yCAA2CF,IDUvDG,MAAK,SAAAC,GACF,GAAIA,EAASC,GACT,OAAOD,EAASE,OACpB,MAAM,IAAIC,MAAM,2BAEfJ,MAAK,SAAAK,GACF,IAAMC,EAAMD,EAAKE,OACjB,GAAID,EAAM,GACNE,gBAAM,CACFC,KAAM,uGAGVf,EAAWgB,UAAY,QACpB,GAAIJ,EAAM,EAAG,CAChBE,gBAAM,CACFC,KAAM,YAAYH,EAAd,0EAGR,IAAMK,EAAY,CAACC,MAAOP,EAAKQ,KAAI,SAAAC,GAAI,OAAIA,EAAKC,SAChDrB,EAAWgB,UAAYM,IAASL,OAC7B,CACHH,gBAAM,CACFC,KAAM,iCAEV,IAAMQ,EAAO,CAACL,MAAOP,EAAK,GAAGa,UAAUL,KAAI,SAAAC,GAAI,OAAIA,EAAKC,SACxDrB,EAAWgB,UACX,OAAOL,EAAK,GAAGU,KAAf,qJAG4CV,EAAK,GAAGc,QAHpD,uEAI+Cd,EAAK,GAAGe,WAJvD,qEAMUJ,IAASC,GANnB,wEASyBZ,EAAK,GAAGgB,KATjC,mCAaXC,OAAM,SAAAC,GACHf,gBAAM,CACFC,KAAM,gHAGVf,EAAWgB,UAAY,QAIsC,O,qBE3DrE,IAAIc,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAAS1B,GAC5G,MAAO,6BACLuB,EAAUI,iBAAiBJ,EAAUK,OAAOJ,EAAQA,IACpD,WACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAAS1B,GAC1E,IAAI6B,EAAQC,EAAiBP,EAAUO,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,uBACyU,OAA1UH,EAASC,EAAeL,EAAQ,QAAQW,KAAe,MAAVZ,EAAiBA,EAAUD,EAAUc,aAAe,GAAe,MAAVb,EAAiBM,EAAeN,EAAO,SAAWA,EAAQ,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUe,QAAQ,EAAGtC,EAAM,GAAG,QAAUuB,EAAUgB,KAAK,KAAOvC,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,EAAE,OAAS,QAAkB6B,EAAS,IAC5V,WACJ,SAAU,M","file":"main.9185dc39053d17631d75.js","sourcesContent":["import debounce from 'lodash.debounce'\nimport fetchCountries from './fetchCountries.js'\nimport listMenu from '../templates/list.hbs'\nimport { alert, defaultModules } from '../node_modules/@pnotify/core/dist/PNotify.js'\nimport * as PNotifyMobile from '../node_modules/@pnotify/mobile/dist/PNotifyMobile.js'\ndefaultModules.set(PNotifyMobile, {})\nconst inputCountry = document.querySelector('input#country')\nconst resultArea = document.querySelector(\".result\")\n\nfunction handleCountriesData() {\n    fetchCountries(inputCountry.value)\n    .then(response => {\n        if (response.ok)\n            return response.json()\n        throw new Error(\"Error fetching data.\")\n    })\n        .then(data => {\n            const len = data.length\n            if (len > 10) {\n                alert({\n                    text: `Знайдено дуже багато країн. \n                    Будь ласка, зробіть Ваш запит більш специфічним.`\n                })\n                resultArea.innerHTML = ''\n            } else if (len > 1) {\n                alert({\n                    text: `Знайдено ${len} країн(и). \n                    Будь ласка, конкретизуйте Ваш запит.`\n                })\n                const countries = {items: data.map(item => item.name)}\n                resultArea.innerHTML = listMenu(countries)\n            } else {\n                alert({\n                    text: `Ваш запит успішно виконаний.`\n                })\n                const lang = {items: data[0].languages.map(item => item.name)}\n                resultArea.innerHTML = \n                `<h1>${data[0].name}</h1>\n                <div class=\"container\">\n                <ul class=\"list-main\">\n                    <li class=\"item-main\"><b>Capital:</b> ${data[0].capital}</li>\n                    <li class=\"item-main\"><b>Population:</b> ${data[0].population}</li>\n                    <li class=\"item-main\"><b>Languages:</b>`\n                        + listMenu(lang) +\n                    `</li>\n                </ul>\n                <img class=\"flag\" src=\"${data[0].flag}\" />\n                </div>`\n            }\n        })\n    .catch(err => {\n        alert({\n            text: `Запит порожній або некоректний. \n            Будь ласка, введіть правильну назву країни англійською мовою.`\n        })\n        resultArea.innerHTML = ''\n    })\n}\n\ninputCountry.addEventListener('input', debounce(handleCountriesData, 500))","export default function fetchCountries(searchQuery) {\n    return fetch(\"https://restcountries.eu/rest/v2/name/\" + searchQuery)\n}","var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"    <li class=\\\"list-item\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"list\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"items\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":4,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\\n\";\n},\"useData\":true});"],"sourceRoot":""}